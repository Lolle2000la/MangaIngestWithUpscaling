@using MangaIngestWithUpscaling.Services.BackgroundTaskQueue.Tasks
@using MangaIngestWithUpscaling.Services.BackgroundTaskQueue.TaskDescribers
@inject ITaskDescriberFactory DescriberFactory

@_title

@code {
    [Parameter] public BaseTask Task { get; set; } = null!;

    private string _title = string.Empty;

    protected override async Task OnParametersSetAsync()
    {
        if (Task == null) return;
        
        var describer = DescriberFactory.GetDescriber(Task);
        _title = await describer.GetTitleAsync(Task);
    }
}

@using MangaIngestWithUpscaling.Data.LibraryManagement


@code {
    [Parameter]
    public UpscalerProfile Profile { get; set; } = new UpscalerProfile
        {
            Name = "",
            ScalingFactor = ScaleFactor.TwoX,
            CompressionFormat = CompressionFormat.Webp,
            Quality = 80
        };
    [Parameter]
    public EventCallback<UpscalerProfile> ProfileChanged { get; set; }

    [Parameter]
    public bool IsValid { get; set; } = false;
    [Parameter]
    public EventCallback<bool> IsValidChanged { get; set; }

    protected void OnInputChanged()
    {
        ProfileChanged.InvokeAsync(Profile);
        IsValid = Validate();
        IsValidChanged.InvokeAsync(IsValid);
    }

    private bool Validate()
    {
        bool requiredElementsValid = !string.IsNullOrWhiteSpace(Profile.Name);
        return requiredElementsValid;
    }
}
